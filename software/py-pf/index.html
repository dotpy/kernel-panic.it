<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="resource-type" content="document" />
  <meta name="keywords" content="py-pf,Python,OpenBSD,Packet,Filter,PF,firewall,docs" />
  <meta name="description" content="py-pf is a pure-Python module for managing OpenBSD's Packet Filter." />
  <meta name="distribution" content="global" />
  <meta name="author" content="Daniele Mazzocchio" />
  <meta name="copyright" content="This document copyright 2005-2012 by Kernel-Panic.it." />

  <title>py-pf - Managing Packet Filter with Python</title>

  <link rel="stylesheet" type="text/css" href="css/pf.css" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

</head>

<body>

  <table id="container">
    <tr>
      <td colspan="2">
        <h1 id="header"><span>py-pf</span></h1>
      </td>
    </tr>
    <tr>
      <td id="menu-cell">
        <ul id="menu">
          <li id="home"><span class="menu-item"><span>Home</span></span>
            <ul id="sub1">
              <li><a href="index.html#pf-news"><span>News</span></a></li>
              <li><a href="index.html#pf-contacts"><span>Contacts</span></a></li>
            </ul>
          </li>
          <li id="docs"><a class="menu-item" href="docs.html"><span>Docs</span></a>
            <ul id="sub2">
              <li><a href="docs.html#installation"><span>Installation</span></a></li>
              <li><a href="docs.html#tutorial"><span>Tutorial</span></a></li>
            </ul>
          </li>
          <li id="dwl"><a class="menu-item" href="https://github.com/dotpy/py-pf/downloads"><span>Download</span></a>
            <ul id="sub3">
              <li><a href="https://github.com/dotpy/py-pf/archive/master.tar.gz"><span>Latest release</span></a></li>
            </ul>
          </li>
          <li id="rsrc"><a class="menu-item" href="resources.html"><span>Resources</span></a>
            <ul id="sub4">
              <li><a href="resources.html#py-links"><span>Python links</span></a></li>
              <li><a href="resources.html#pf-links"><span>PF links</span></a></li>
            </ul>
          </li>
        </ul>
      </td>
      <td rowspan="2" id="main">

        <p><dfn><a href="https://github.com/dotpy/py-pf">py-pf</a></dfn> is a pure-<a href="http://www.python.org">Python</a> module that allows you to manage <a href="http://www.openbsd.org">OpenBSD</a>'s Packet Filter from Python scripts. <dfn>Packet Filter</dfn> is OpenBSD's firewalling subsystem, renowned for its performance and security and providing, among other features:</p>
        <ul>
          <li>stateful filtering of TCP/IP traffic</li>
          <li>Network Address translation</li>
          <li>packets normalization and reassembly</li>
          <li>bandwidth control and packet prioritization</li>
          <li>traffic filtering based on OS fingerprint</li>
        </ul>

        <p><a href="https://github.com/dotpy/py-pf">py-pf</a> allows you to control all these functions from Python in a very simple and flexible way.</p>
        <p>Well, you might object that OpenBSD already provides a powerful utility for controlling Packet Filter, <tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a></tt>, which covers the most commonly used functions. It's true, but nevertheless, <a href="https://github.com/dotpy/py-pf">py-pf</a> aims to provide something different: a scripting tool that brings together the flexibility of Packet Filter's C API and the power of Python, making it easier to parse and manage PF data (such as addresses, rules, state tables, etc.) and to integrate firewalling capabilities in more complex applications.</p>
        <p>Similarly to <tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a></tt>, <a href="https://github.com/dotpy/py-pf">py-pf</a> sends commands to the kernel through the <tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&amp;sektion=2">ioctl(2)</a></tt> interface provided by the <tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a></tt> pseudo-device; this allows Python to natively communicate with the kernel, thanks to the <tt><a href="http://docs.python.org/lib/module-fcntl.html">fcntl</a></tt> and <tt><a href="http://docs.python.org/lib/module-ctypes.html">ctypes</a></tt> modules, with no need to write a specific C extension module.</p>

        <p><a href="https://github.com/dotpy/py-pf">py-pf</a> is still under development, but already supports most of Packet Filter's functionalities, including:</p>

          <ul>
            <li>starting and stopping packet filtering and bandwidth control (ALTQ);</li>
            <li>retrieving the current ruleset, loading and removing rules, nesting rulesets with anchors;</li>
            <li>managing address tables;</li>
            <li>configuring Packet Filter's runtime options;</li>
            <li>retrieving the internal packet filter statistics and counters;</li>
            <li>managing state tables, including the ability to selectively kill specific states;</li>
            <li>handling of packet queueing and prioritization;</li>
          </ul>

          <p>OS fingerprint support will be added in the next future.</p>

        <div id="news">
          <a id="pf-news" name="pf-news"></a>
          <div class="sep"><h2><span>News</span></h2></div>

          <dl>
            <dt>May 5, 2015</dt>
            <dd>py-pf-0.1.4 released! Updated to OpenBSD 5.7.</dd>

            <dt>Oct 27, 2012</dt>
            <dd>py-pf-0.0.9 released! Updated to OpenBSD 5.2, including some minor bug fixing and some new features like ruleset optimization and a high-level <tt>pf.lib</tt> module for quickly writing new rulesets.</dd>

            <dt>Jun 28, 2012</dt>
            <dd>py-pf-0.0.8 released! Updated to OpenBSD 5.1 and migrated from <a href="http://sourceforge.net/">SourceForge</a> to <a href="https://github.com/">GitHub</a>. Some major code reworking was done on module names and structure, thanks to input from <a href="https://github.com/oubiwann">Duncan McGreggor</a> from <a href="http://dreamhost.com/">DreamHost</a>.</dd>

            <dt>Nov 22, 2011</dt>
            <dd>Py-PF-0.0.7 released! Updated to OpenBSD 5.0 and now supporting <tt>divert-*</tt> options and the collection of per-interface statistics!</dd>

            <dt>Jul 9, 2011</dt>
            <dd>Py-PF-0.0.6 released! Now supporting packet queueing with ALTQ!</dd>

            <dt>Jan 19, 2011</dt>
            <dd>Py-PF-0.0.5 released! It is now updated to OpenBSD 4.8, including the major changes that the PF stack has undergone over the last releases.</dd>

            <dt>Jul 26, 2009</dt>
            <dd>Py-PF-0.0.4 released! Tables support has been largely improved. Now address tables can be included in rulesets, in order to load them along with the rules referencing them; statistics are available also for tables through the <tt>PacketFilter.get_tstats()</tt> method.</dd>

            <dt>Mar 22, 2009</dt>
            <dd>Py-PF-0.0.3 released! Part of the code has been rewritten and some classes (<tt>PFAddr</tt> and <tt>PFPort</tt>) have been added in order to provide more flexiblity in managing addresses and ports; support for address tables has been included as well, through the <tt>PFTable</tt> and <tt>PFTableAddr</tt> classes.</dd>

            <dt>Jul 6, 2008</dt>
            <dd>Py-PF-0.0.2 released! The main additional feature is the ability to load rulesets, by means of the <tt>PacketFilter.load_ruleset()</tt> method. Also the ability to selectively kill states (based on address family, transport-layer protocol, interface name, and source and destination addresses) has been added, as well as the possibility to manually set the hostid, used by <tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a></tt> to identify which host created state table entries.</dd>

            <dt>Apr 26, 2008</dt>
            <dd>Py-PF-0.0.1 released! Please refer to the <a href="docs.html">documentation</a> for the <a href="docs.html#installation">installation</a> notes and a detailed <a href="docs.html#tutorial">tutorial</a>.<br />This is just a pre-alpha release: lots of features are still missing and many bugs need to be fixed. Anyway, I hope that someone might find it useful and provide <a href="mailto:danix@kernel-panic.it">me</a> with feedback and suggestions.</dd>
          </dl>

        </div>

        <div id="contacts">
          <a id="pf-contacts" name="pf-contacts"></a>
          <div class="sep"><h2><span>Contacts</span></h2></div>

          <p>Please feel free to send me bug reports, feedback and suggestions by <a href="mailto:danix@kernel-panic.it">email</a>.</p>

        </div>

      </td>
    </tr>
    <tr>
      <td id="logos">
        <p>&nbsp;</p>
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post">  
          <div>
            <input type="hidden" name="cmd" value="_s-xclick" />                 
            <input type="image" src="images/donate.gif" name="submit" alt="Donate" />
            <img src="https://www.paypal.com/it_IT/i/scr/pixel.gif" alt="" width="1" height="1" />  
            <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----" />  
          </div>
        </form>
        <p><a href="http://validator.w3.org/check?uri=referer"><img src="images/xhtml10.png" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
        <p><a href="http://jigsaw.w3.org/css-validator/"><img src="images/vcss.gif" alt="Valid CSS!" height="31" width="88" /></a></p>
      </td>
    </tr>
    <tr>
      <td colspan="2"><address>Designed by <a href="http://www.kernel-panic.it">kernel-panic.it</a></address></td>
    </tr>
  </table>

</body>

</html>

